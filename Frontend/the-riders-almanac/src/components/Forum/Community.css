:root{
  --page-bg:#0a0d0a;
  --panel:#0e1311;
  --ink:#e8ebea;
  --ink-dim:rgba(233,236,239,.7);
  --muted:#9fb2a0;

  --ring:rgba(166,217,138,.18);
  --accent:#a6d98a;                 /* site green */
  --brand:#e16634;                  /* calendar orange */
  --shadow:0 20px 50px rgba(0,0,0,.45);
  --radius:14px;
}

.community-page{
  color:var(--ink);
  background:var(--page-bg);
  --ctrlH:46px;                     
}

/* ====== CARD & SHELL ====== */
.feed-card{ min-height:420px; }
.feed-shell{ padding:16px; }

/* ====== TOP ROW: Search + Settings (left) | New Post (right) ====== */
.toolbar-row{
  display:flex; align-items:center; justify-content:space-between; gap:12px;
  margin-bottom:12px;
}
.toolbar-left{ display:flex; align-items:center; gap:8px; min-width:0; }
.toolbar-right{ display:flex; align-items:center; }

/* Maps-style search pill (inline) */
.comm-search{
  height:var(--ctrlH);
  display:flex; align-items:center; gap:10px;
  padding:0 14px;
  background:rgba(10,14,12,.85);
  border:1px solid var(--ring);
  border-radius:12px;
  box-shadow:0 8px 18px rgba(0,0,0,.35);
  backdrop-filter:blur(2px);
}
.map-search__icon{ width:28px; height:28px; display:grid; place-items:center; color:#9AA0A6; }
.map-search__divider{ width:1px; height:18px; background:rgba(154,160,166,.45); }
.map-search__input{
  all:unset; color:var(--ink); width:220px;
  height:var(--ctrlH); line-height:var(--ctrlH); font-size:14px;
}

/* Pill buttons (match calendar look) */
.ra-pillbtn{
  height:var(--ctrlH);
  border:1px solid var(--ring);
  border-radius:12px;
  background:#0b0f0c;               
  color:var(--ink);
  font-weight:800; letter-spacing:.02em;
  display:inline-grid; place-items:center;
  padding:0 14px;
}
.ra-pillbtn--icon{
  width:var(--ctrlH); min-width:var(--ctrlH);
  padding:0; display:grid; place-items:center;
}

/* + New Post: same base as Settings; */
.ra-pillbtn--primary{
  background:#0b0f0c;
  color:var(--ink);
}
.ra-pillbtn--primary:hover{
  background:var(--accent);
  color:#06251a;                    
  border-color:rgba(0,0,0,.25);
}

/* ====== SECOND ROW: TAG FILTER CHIPS (calendar orange) ====== */
.filters-row--tagsOnly{ margin-bottom:10px; }
.tagbar__chips{ display:flex; flex-wrap:wrap; gap:8px; }

.tagbtn{
  border:1px solid rgba(225,102,52,.28);
  background:rgba(225,102,52,.08);
  color:var(--accent);
  border-radius:12px;
  padding:6px 10px;
  font-weight:800;
  letter-spacing:.2px;
}
.tagbtn:hover{
  background:rgba(234,170,59,.18);
  border-color:var(--accent);
}
.tagbtn.is-active{
  background:var(--accent);
  border-color:var(--accent);
  color: #05190f;
  box-shadow: 0 0 0 1px rgba(225,102,52, .7);
}

/* ====== FEED LIST / CARDS ====== */
.feed-list{ list-style:none; padding:0; margin:6px 0 0; display:grid; gap:12px; }
.feed-list > li,
.feed-list > .post-item{
  border:1px solid var(--ring);
  border-radius:12px;
  background:#0f1311;               
  box-shadow:0 8px 24px rgba(0,0,0,.35);
}
.post-item.clickable{ cursor:pointer; }
.post-item.clickable:hover{ background:#101512; }

.post-item .post-title{
  font-size:22px;
  font-weight:800;
  letter-spacing:.01em;
  color:var(--ink);
}

/* Tags + meta on one line */
.post-row{
  display:flex; align-items:center; justify-content:space-between; gap:12px; flex-wrap:wrap;
}
.post-tags{ display:flex; flex-wrap:wrap; gap:8px; }
.post-chip{
  padding:4px 10px;
  border-radius:999px;
  border:1px solid rgba(225,102,52,.28);
  background:rgba(225,102,52,.08);
  color:var(--brand);
  font-size:11px; font-weight:700; line-height:1;
}
.post-meta{
  display:flex; align-items:center; gap:8px;
  color:var(--ink-dim); font-size:13px; white-space:nowrap;
}

/* ====== SLIDEOUT (Settings) ====== */
.filters-panel{
  position:absolute; top:0; right:0; height:100%;
  width:min(360px,92vw);
  background:rgba(10,13,10,.98);
  border-left:1px solid var(--ring);
  box-shadow:var(--shadow);
  padding:12px 14px;                          /* was 16px */
  display:grid; grid-template-rows:auto 1fr auto; gap:8px; /* was gap:12px */
  z-index:5;
  animation:slideIn .18s ease-out;
}
@keyframes slideIn{ from{transform:translateX(100%);opacity:.4;} to{transform:translateX(0);opacity:1;} }
.filters-panel__head{ display:flex; justify-content:space-between; align-items:center; }
.filters-panel__body{ overflow:auto; display:grid; gap:8px; }
.filters-panel__sectionTitle{ font-size:12px; opacity:.8; }
.filters-panel__admin{ border-top:1px dashed var(--ring); padding-top:8px; margin-top:4px; }
.filters-panel__footer{ display:flex; justify-content:flex-end; gap:8px; }

.tag-row{ display:flex; flex-wrap:wrap; gap:8px; }
.tagwrap{ position:relative; }
.tagwrap .tagbtn{ position:relative; z-index:1; }
.tagwrap .delx{
  position:absolute; top:-6px; right:-6px;
  width:18px; height:18px; border-radius:10px;
  border:1px solid rgba(255,255,255,.18);
  background:#1a1f1b; color:#e8ebea;
  display:none; place-items:center; font-size:12px; line-height:1;
  z-index:2; pointer-events:auto;
}
.tagwrap:hover .delx{ display:grid; }

/* ====== PAGER ====== */
.feed-pager{ display:flex; justify-content:flex-end; align-items:center; gap:10px; margin-top:12px; }
.pager-btn{
  padding:8px 12px; border:1px solid var(--ring); border-radius:12px;
  background:#0b0f0c; color:var(--ink);
}
.pager-btn[disabled]{ opacity:.5; cursor:not-allowed; }
.pager-info{ font-size:12px; opacity:.7; }

.community-page{
  --uiH: 42px;                    }

/* Search pill */
.comm-search{
  height: var(--uiH);
  border-radius: 12px;
}
.map-search__input{
  height: var(--uiH);
  line-height: var(--uiH);       
}

/* Pill buttons (Settings + New Post) */
.ra-pillbtn{
  height: var(--uiH);
  line-height: calc(var(--uiH) - 2px);  
  padding-block: 0;                     
  padding-inline: 14px;
  display: inline-flex;
  align-items: center;
  border-radius: 12px;
  box-sizing: border-box;               
}

.ra-pillbtn:hover{

background: rgba(255, 255, 255, .08);
  color: #ffffff;
  border-color: rgba(255,255,255,.10);
}
/* Icon pill (Settings) */
.ra-pillbtn--icon{
  width: var(--uiH);
  min-width: var(--uiH);
  height: var(--uiH);
  padding: 0;
}

/* “+ New Post”  */
.ra-pillbtn--primary{
  background: #0b0f0c;          
  color: var(--ink);
}
.ra-pillbtn--primary:hover{
    background: rgba(255, 255, 255, .08);
  color: #ffffff;
  border-color: rgba(255,255,255,.10);
}


.trend-list{ list-style:none; margin:0; padding:0; display:grid; gap:8px; }
.trend-item{ border:1px solid var(--ring); border-radius:12px; background:var(--panel); }
.trend-link{ display:block; padding:10px 12px; color:var(--ink); text-decoration:none; }
.truncate{ white-space:nowrap; overflow:hidden; text-overflow:ellipsis; font-weight:700; }
.trend-meta{ display:flex; gap:8px; align-items:center; font-size:12px; }
.dim{ color:var(--ink-dim); }
.dot{ opacity:.6; }

/* Card shell  */
.sidebar-card {
  background: var(--panel);
  border: 1px solid var(--grid-soft);
  border-radius: var(--radius);
  box-shadow: var(--shadow);
  padding: 14px 14px 10px;
}
.sidebar-title {
  color: var(--accent);
  letter-spacing: .06em;
  font-weight: 800;
  font-size: 18px;
  margin: 4px 6px 10px;
}
.sidebar-list { display: grid; gap: 10px; }

/* Row */
.row {
  display: grid;
  grid-template-columns: 40px 1fr 34px;
  align-items: center;
  background: linear-gradient(180deg, rgba(255,255,255,.04), rgba(255,255,255,.02));
  border: 1px solid var(--grid);
  border-radius: 14px;
  padding: 8px 8px 8px 8px;
}
.row:hover { border-color: var(--ring); }

/* Left badge (initials or avatar) */
.row-badge {
  display: grid;
  place-items: center;
  width: 40px; height: 40px;
  border-radius: 10px;
  background: rgba(166,217,138,.1);
  color: var(--accent);
  font-weight: 700; font-size: 11px;
}

/* Middle content */
.row-main {
  text-align: left;
  background: none; border: 0; padding: 0; margin: 0;
  display: grid; gap: 2px;
  cursor: pointer;
}
.row-title {
  color: var(--ink);
  font-weight: 700;
  line-height: 1.15;
  font-size: 16px;
}
.row-sub {
  color: var(--ink-dim);
  font-size: 12px;
  display: inline-flex; align-items: center; gap: 8px;
}
.row-dot::before { content: "•"; opacity: .6; }

/* Right icon  */
.row-cta {
  width: 30px; height: 30px;
  display: grid; place-items: center;
  border-radius: 999px;
  background: rgba(166,217,138,.08);
  border: 1px solid var(--grid);
}
.cta-ring { stroke: var(--accent); opacity: .25; }
.cta-tick { stroke: var(--accent); }

.row-points { display: none !important; }

.trend-list { width: 100%; display: flex; flex-direction: column; gap: 14px; }
.trend-item { list-style: none; }

.trend-title{
  color: var(--ink);
  font-weight: 800;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}

.ra-hoverable{
  cursor: pointer;
  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
}

.ra-hoverable:hover{
  transform: translateY(-1px);
  border-color: var(--ring);
  box-shadow: 0 0 0 1px var(--ring) inset, var(--shadow);
}

.ra-hoverable:focus-visible{
  outline: none;
  transform: translateY(-1px);
  border-color: var(--event-ring);
  box-shadow: 0 0 0 2px var(--event-ring) inset, var(--shadow);
}

.sidebar__title { margin: 0 0 16px; }

/* list layout  */
.trend-list {
  width: 100%;
  display: flex;
  flex-direction: column;
  gap: 18px; 
}
.trend-item { list-style: none; }

/* clickable card */
.trend-link {
  display: grid;
  grid-template-columns: 56px 1fr;
  align-items: center;
  gap: 14px;

  width: 100%;
  padding: 14px 16px;
  box-sizing: border-box;

  border-radius: var(--radius); 
  background: linear-gradient(180deg, rgba(255,255,255,.05), rgba(255,255,255,.02));
  border: 1px solid var(--grid);

  transition: transform .12s ease, box-shadow .12s ease, border-color .12s ease, background .12s ease;
  text-align: left;
  cursor: pointer;
}

.trend-link:hover {
  transform: translateY(-1px);
  border-color: var(--ring);
  box-shadow: 0 0 0 1px var(--ring) inset, var(--shadow);
}
.trend-link:focus-visible {
  outline: none;
  transform: translateY(-1px);
  border-color: var(--event-ring);
  box-shadow: 0 0 0 2px var(--event-ring) inset, var(--shadow);
}

.trend-pill {
  width: 56px; height: 56px;
  border-radius: 14px;
  display: grid; place-items: center;
  background: rgba(166,217,138,.10);
  color: var(--accent);
  font-weight: 800; font-size: 11px;
}

.trend-text { min-width: 0; }
.trend-title {
  color: var(--ink);
  font-weight: 800;
  line-height: 1.2;
  white-space: nowrap;
  overflow: hidden;
  text-overflow: ellipsis;
}
.trend-author { font-size: 12px; margin-top: 4px; }

.sidebar__inner { overflow: visible; }

.community-page{
  color: var(--ink);
  background: var(--page-bg);
  min-height: 100dvh;
  padding: clamp(20px, 4vw, 40px);   
  overflow-x: hidden;                
}
.post-page{ overflow-x: hidden; }

.np-head .np-x{
  width: 42px;
  height: 42px;
  min-width: 42px;
  border-radius: 12px;
  border: 1px solid var(--grid);
  background: rgba(255,255,255,.04);
  display: inline-grid;             
  place-items: center;              
  line-height: 1;                   
}
.np-head .np-x::before{
  content: "✕";
  font-weight: 800;
  font-size: 16px;
  color: var(--ink);
}
.np-head .np-x:hover{ background: rgba(255,255,255,.08); }

.ra-pillbtn{
  height: 42px;
  padding: 0 14px;
  border-radius: 12px;
  border: 1px solid var(--ring);
  background: rgba(255,255,255,.04);
  color: var(--ink);
  font-weight: 800; letter-spacing: .02em;
  display: inline-flex; align-items: center; justify-content: center;
  gap: 8px; line-height: 1; box-sizing: border-box;
}
.ra-pillbtn--icon{
  width: 42px; min-width: 42px; height: 42px;
  padding: 0; display: inline-grid; place-items: center;
}
.ra-pillbtn:hover{ background: rgba(255,255,255,.08); }
.ra-pillbtn--primary{ background:#0b0f0c; }
.ra-pillbtn--primary:hover{
  background: rgba(255,255,255,.08);
  border-color: rgba(255,255,255,.10);
}

.tagbtn {
  border: 1px solid rgba(225,102,52,.28);       /* #e16634 */
  background: rgba(225,102,52,.08);
  color: var(--accent);
  border-radius: 12px;
  padding: 6px 10px;
  font-weight: 800;
  letter-spacing: .2px;
}

.tagbtn:hover {
  background: rgba(225,102,52,.18);
  border-color: var(--accent);
}

/* ACTIVE STATE – clearly ON */
.tagbtn.is-active {
  background: var(--accent) !important;         /* solid green */
  border-color: var(--accent) !important;
  color: #05190f !important;                    /* dark text for contrast */
  box-shadow: 0 0 0 1px rgba(225,102,52,.7);    /* subtle orange ring */
}

.tag-admin__form{
  display:grid;
  gap:8px;
  margin-top:6px;
}

.tag-admin__input{
  width:100%;
  padding:6px 8px;
  border-radius:8px;
  border:1px solid rgba(232,235,234,.22);
  background:#050806;
  color:var(--ink);
  font-size:13px;
}

.tag-admin__actions{
  display:flex;
  justify-content:flex-end;
  gap:8px;
  margin-top:4px;
}

.tag-admin__disabled{
  margin-top:8px;
  padding-top:6px;
  border-top:1px dashed rgba(255,255,255,.06);
}

.tag-admin__disabledTitle{
  font-size:12px;
  opacity:.7;
  margin-bottom:4px;
}

.tag-admin__disabledList{
  display:flex;
  flex-wrap:wrap;
  gap:6px;
}

.tagbtn--disabled{
  opacity:.42;
  border-style:dashed;
}

.tagbtn--disabled:hover{
  opacity:.9;
}

.filters-panel__head {
  display: flex;
  justify-content: space-between;
  align-items: center;
  margin-bottom: 12px;
}


.filters-panel__row {
  display: flex;
  align-items: flex-start;
  gap: 10px;
  margin-top: 20px;
}

/* keep the label tight against the chips */
.filters-panel__sectionTitle {
  font-size: 12px;
  opacity: .8;
  padding-top: 4px;      /* nudges it down to align with pill centers */
  flex: 0 0 auto;
}

.tag-row {
  flex: 1 1 auto;
  display: flex;
  flex-wrap: wrap;
  gap: 8px;
}